Типи даних в PHP
================

> id: cd63818c-259a-484e-b006-86c35b362019
> slug:
> 	cs: datove-typy
> 	uk: tipi-danih-v-php
> 
> perex:
> 	- 'Datové typy v PHP: String, integer, float, boolean, pole (array), objekt a další.'
> 	- 'Типи даних в PHP: string, integer, float, boolean, array, object та інші.'
> 
> publicationDate: '2019-08-23 15:44:28'
> mainCategoryId: '0e39aee9-2818-480c-8081-e0c2d039bb24'
> sourceContentHash: fcb2c647973c5f94e601c789b0a882f1

Всі дані, що обробляються в PHP, мають певний тип. Наприклад, ціле число, рядок або логічне значення (true/false).

Основні типи даних
--------------------

Базові типи ще називають **примітивними типами даних**, або <a href="/function-is-scalar">скалярними типами</a>.

| Тип | Назва | Опис | Опис
|---------|-----------------|-------|
| `int` | Ціле число | (`integer`) Містить тільки ціле число. Максимальне значення визначається кількістю розрядів. На 32-бітному PHP діапазон від `-2 147 483 648` до `-2 147 483 647` (~ ± 2 мільярди), на 64-бітному PHP діапазон від `-9 223 372 036 854 775 808` до `-9 223 372 036 854 775 807` (~ ± 9 квінтильйонів). Максимальне значення завжди можна отримати, викликавши константу `PHP_INT_MAX`. Якщо максимальне значення цілого числа буде перевищено, PHP представить число як `float` і автоматично перезапише його.
| `float` | Десяткове число з плаваючою комою | Це варіант числа з плаваючою комою, для якого застосовується правило *"чим менше, тим точніше "*. Число зберігається всередині у вигляді так званої **мантисси** і **експоненти**, тобто фактично зберігається 2 числа, між якими виконується операція `мантисса * (2^експонента)`, що дає можливість зберігати дійсно величезний діапазон чисел. При цьому використовується принцип, що для великих чисел нам не завжди потрібно знати їх точне значення, але ми хочемо заощадити якомога більше пам'яті. Числа типу "плаваючі" не потребують точного зберігання і не повинні використовуватися для обчислення грошей.
| `string` | Рядок | Містить послідовність символів, які розділені лапками або апострофами. Максимальна довжина обмежується лише об'ємом оперативної пам'яті. Рядок може зберігатися в будь-якому кодуванні, містити емодзі або двійкові дані.
| `bool` | Boolean | (`boolean`) Булеве значення з булевої алгебри, може містити тільки `істина` або `хибність`.
| `null` | Порожнє значення | Порожнє значення `null` корисне для випадків, коли ми хочемо висловити, що чогось не існує. Наприклад, стаття не має категорії. Іноді `null` некоректно замінюють на нуль (`0`) або порожні рядки (`''`), але це не є вдалим рішенням для вираження неіснування.

**Попередження:** Тип `null` не є скалярним.

Нуль (0) проти нуля
----------------

Багатьом розробникам важко зрозуміти різницю між `0` (нулем) і `null` (неіснуючим значенням), коли вони починають розробку.

Цю відмінність можна дуже добре і з гумором пояснити за допомогою наступної картинки:

<img src="{$baseUrl}/images/0-vs-null.jpg" alt="0 vs null" class="w-100 mb-3">

Ручне перепакування
--------------------

Деякі типи можуть конвертуватися між собою. Цільовий тип даних вказується за допомогою круглих дужок і може бути вказаний в будь-якому місці програми, наприклад, при перерахуванні значення.

Наприклад:

```php
$pi = 3.14;

echo $pi;       // виводить 3.14

echo (int) $pi; // виводить 3
```

Динамічне поповнення
---------------------

Розглянемо наступні 2 змінні:

```php
$x = 10;
$y = '10';
```

Яка різниця між вмістом змінних `$x` та `$y`?

Змінна `$x` - число, `$y` - рядок (містить "1" і "0"), тому якщо ми просто збережемо змінну в пам'яті і не будемо виконувати ніяких операцій, які вплинуть на її значення. Наприклад, наступні 2 записи повернуть однаковий результат:

```php
echo $x + 5;	// виводить 15
echo $y + 5;	// виводить 15
```

У другому випадку відбувається так званий **динамічний перезапис**, тобто змінна перетворює свій тип даних таким чином, щоб над нею можна було виконати обчислювальну операцію. На таку поведінку не завжди можна покладатися, і вона є скоріше коригуючою поведінкою для виправлення погано написаних сценаріїв для початківців. Якщо можливо, завжди записуйте числа з типом даних для зберігання чисел, оскільки це підвищує їх точність і полегшує їх використання в майбутньому.

**Примітка:** Важливо зазначити, що ми не можемо перетворювати типи даних повністю довільно, тому це не завжди можливо. Якщо перезаписати тип даних в якийсь інший (несумісний), то або перетворення може не відбутися взагалі, або вихідний вміст може бути зіпсований або повністю знищений і замінений на інший. Наприклад, якщо переписати рядок в ціле число (а в змінній зберігається деякий текст, що не є числом), то замість числового значення в змінній буде зберігатись значення `1`.

Порівняння типів
----------------

При порівнянні значень потрібно враховувати різні типи даних.

В загальному випадку оператор `==` використовується для загального порівняння двох значень (незалежно від типів), в той час як `===` порівнює як значення, так і тип даних.

Наприклад:

```php
$a = '';
$b = null;

if ($a == $b) {
    // Буде оцінено як TRUE, тому що
    // відбувається перетворення типу даних.
}

if ($a === $b) {
    // Виконує набагато більш сувору перевірку
    // і він не пройде, бо він не такий, як усі.
    // вміст та інший тип даних, тому
    // цей код ніколи не виконається.
}
```
