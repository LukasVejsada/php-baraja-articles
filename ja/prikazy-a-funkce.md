PHPのコマンド、キーワード、関数
=================

> id: '96a00928-4410-479d-ada0-612de21cdacd'
> slug:
> 	cs: prikazy-a-funkce
> 	ja: phpnokomando-kiwado-guan-shu
> 
> publicationDate: '2019-09-11 10:18:03'
> mainCategoryId: '6cbbbf59-9bbd-4ca3-a6c3-eb204a2f8070'
> sourceContentHash: '4534cc03d2ae66454b9f398139f232a4'

すべてのPHPスクリプトは、コマンドと関数から構成されており、これらをまとめて **構造体** と呼びます。スクリプトが処理されるとき、これらの言語表現は追跡され（このプロセスは**トークン化**と呼ばれます）、*キーワード*に基づいてインタープリタはプロセッサがどのように動作すべきかを決定します。

コマンド
--------------------------

コマンド（<a href="https://www.php.net/manual/en/reserved.keywords.php">英語では **keywords** と呼ばれます</a>）は、すでに言語の一部としてプログラムされており、その目的のために特別に予約されており、どんな状況でもすぐに使用でき（特別なライブラリの追加やインストールは必要ありません）、すべてのスクリプトの基礎を構成しています。

例えば、<a href="/echo">文字列をHTMLコードに展開する</a>などです。

```php
echo 'Echoは内容を一覧表示する言語コマンドです';
```

コマンドの場合、値を返さないので、変数として使えないことに注意することが重要です。また、コマンドは、括弧を含まないことでも識別できる。

例

```php
echo 'ハロー、ワールド';
echo ('ハロー、ワールド');
```

コマンドの内容を括弧で囲むと、動作は変わらず、**式**とみなされるようになります。算数で書くのと同じですね。

```php
5 + 3

// または

(5 + 3)
```

技術的には違いがあるのですが、実際には何も変わりません。

機能
--------------------------

コマンドだけだったら、かなりつまらないと思います。関数は、複数のコマンドの集合体である。

同じコードを複数の場所で繰り返し実行したいことはよくあることです。その場合、定数コピーは面倒だし、エラーになる可能性もあるので、そのようなコードは名前を付けた関数にラップして、名前だけで呼び出すようにしています。

関数を呼び出すと、パラメータを変数として渡し、コードを実行し、結果を返します。

```php
$text = 'PHPは私の大好きな言語です';

echo 'テキスト "' . $text . '" は、長い' . strlen($text) . 'の文字が表示されます。';
```

PHP には多くの関数が直接定義されていますが (<a href="/documentation">see documentation for complete list</a>) 、自分で定義したほうが便利な場合も多々あります。

```php
function mojeFunkce(int $x, int $y): int
{
   $z = $x + $y;   // 入力パラメータを追加し，変数に格納する．

   return $z;      // 変数 $z を返します。
}

echo mojeFunkce(5, 3); // 関数で処理されたため，数値 8 を表示します．
```

関数内の変数
--------------------------

ローカル変数は、関数内で使用されます。つまり、関数内でのみ使用可能で、関数外では操作（定義）することができません。これらは、関数定義にある関数パラメータから直接初期値を取得する。

例

```php
$z = 5;

function prvniFunkce(int $x, int $y): int
{
   return $x - $y; // これは数値の差を返すことになる
}

function druhaFunkce(): mixed
{
   return $z; // 変数 $z のため、これはエラーを返します。
              // 関数内部で定義されていない
}
```

時には、いくつかのパラメータをオプションとして設定すると便利です。これは、代替（デフォルト）値を定義することによって行われます。

```php
echo prictiCislo(5);    // 6を返す
echo prictiCislo(5, 7); // 12を返す

function prictiCislo(int $x, int $y = 1): int
{
   return $x + $y;
}
```

prictiCislo()` 関数は、変数 `$y` から変数 `$x` に値を追加します。変数 `$y` が定義されていない場合（関数を呼び出すときにパラメータとして指定される）、関数定義に書かれたそのデフォルト値が使用されます。したがって、2番目の関数パラメータ（`$y`変数）はオプションとなります。

> 各関数は1つの出力（1つの戻り値）のみを持つことができ、関数内で複数の出力を指定した場合、最初に指定されたものが返されます。複数の値を返したい場合は、配列を使用する必要があります。
>
> PHPでは（他の言語と違って）returnを全く指定する必要がなく、その場合、関数はどんな入力に対しても何も返さない（void）。このような関数は、主にデータの保存やソースコードへの出力に使用されます。しかし、一般的には、少なくともすべてがうまくいったことを確認するために、常に何らかの値を返すことが推奨される。
